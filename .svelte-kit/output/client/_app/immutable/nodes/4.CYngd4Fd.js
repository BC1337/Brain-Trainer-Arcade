import{s as V,b as Y,o as G,d as N}from"../chunks/DrcihTyg.js";import{S as O,i as j,m as F,t as S,a as L,n as A,p as H,q as I,d as z,b as P,c as _,r as X,u as x,e as k,f as M,o as J,h as B,j as E,l as T}from"../chunks/wD6G4jnR.js";import{w as K}from"../chunks/CoPtCTWl.js";import{L as Q}from"../chunks/Bpl_OkKT.js";import{T as U}from"../chunks/DQbhH6gq.js";function Z(h){let e,o,a="Click the boxes in sequential order",l,s,r,m,c,p,y,g;return c=new U({props:{message:h[0].message,type:h[0].type}}),{c(){e=E("div"),o=E("h1"),o.textContent=a,l=T(),s=E("div"),r=E("canvas"),m=T(),I(c.$$.fragment),this.h()},l(n){e=k(n,"DIV",{id:!0,class:!0});var i=M(e);o=k(i,"H1",{class:!0,"data-svelte-h":!0}),J(o)!=="svelte-amoqra"&&(o.textContent=a),l=B(i),s=k(i,"DIV",{class:!0});var d=M(s);r=k(d,"CANVAS",{id:!0,class:!0}),M(r).forEach(z),d.forEach(z),m=B(i),H(c.$$.fragment,i),i.forEach(z),this.h()},h(){x(o,"class","svelte-1rvcqll"),x(r,"id","canvas"),x(r,"class","svelte-1rvcqll"),x(s,"class","game-container svelte-1rvcqll"),x(e,"id","container"),x(e,"class","svelte-1rvcqll")},m(n,i){P(n,e,i),_(e,o),_(e,l),_(e,s),_(s,r),_(e,m),A(c,e,null),p=!0,y||(g=X(r,"click",h[2]),y=!0)},p(n,i){const d={};i&1&&(d.message=n[0].message),i&1&&(d.type=n[0].type),c.$set(d)},i(n){p||(L(c.$$.fragment,n),p=!0)},o(n){S(c.$$.fragment,n),p=!1},d(n){n&&z(e),F(c),y=!1,g()}}}function ee(h){let e,o;return e=new Q({props:{showThemeToggle:!0,$$slots:{default:[Z]},$$scope:{ctx:h}}}),{c(){I(e.$$.fragment)},l(a){H(e.$$.fragment,a)},m(a,l){A(e,a,l),o=!0},p(a,[l]){const s={};l&262145&&(s.$$scope={dirty:l,ctx:a}),e.$set(s)},i(a){o||(L(e.$$.fragment,a),o=!0)},o(a){S(e.$$.fragment,a),o=!1},d(a){F(e,a)}}}const te=320,se=568,ne=1200;function ae(h,e,o){let a,l,s,r=[],m=0,c=1,p=4,y=!1,g,n;const i=K({message:"",type:""});Y(h,i,t=>o(0,a=t));function d(){s.fillStyle="#E0E0E0",s.fillRect(0,0,g,n);for(let t of r)t.clicked||(s.fillStyle="#009688",s.fillRect(t.x,t.y,t.size,t.size),y||(s.fillStyle="#FFFFFF",s.font="20px Arial",s.textAlign="center",s.textBaseline="middle",s.fillText(t.number,t.x+t.size/2,t.y+t.size/2)))}function b(){r=[];for(let t=1;t<=p;t++){let u=Math.min(g,n)/10,v=!0,f,$;for(;v;)f=Math.random()*(g-u),$=Math.random()*(n-u),v=R(f,$,u);r.push({x:f,y:$,size:u,number:t,clicked:!1})}m=0,y=!1,d()}function W(){c=1,p=4,b()}function D(t){let u=l.getBoundingClientRect(),v=t.clientX-u.left,f=t.clientY-u.top,$=r.find(w=>v>=w.x&&v<=w.x+w.size&&f>=w.y&&f<=w.y+w.size);$?$.number===m+1?($.clicked=!0,m++,m===p?(q("Congratulations! You completed round "+c+" successfully.","success"),c++,p++,b()):(m===1&&c>1&&(y=!0),d())):(q("Game Over! You clicked the wrong box.","error"),W()):console.log("Clicked on empty area")}function q(t,u){i.set({message:t,type:u}),setTimeout(()=>{i.set({message:"",type:""})},1650)}function R(t,u,v){for(let f of r)if(t<f.x+f.size&&t+v>f.x&&u<f.y+f.size&&u+v>f.y)return!0;return!1}function C(){typeof window<"u"&&(g=Math.max(te,Math.min(window.innerWidth*.9,ne)),n=Math.max(se,window.innerHeight*.7),l.width=g,l.height=n,b())}return G(()=>{if(typeof window<"u")return l=document.getElementById("canvas"),s=l.getContext("2d"),C(),window.addEventListener("resize",C),()=>{window.removeEventListener("resize",C)}}),N(()=>{typeof window<"u"&&window.removeEventListener("resize",C)}),[a,i,D]}class fe extends O{constructor(e){super(),j(this,e,ae,ee,V,{})}}export{fe as component};
