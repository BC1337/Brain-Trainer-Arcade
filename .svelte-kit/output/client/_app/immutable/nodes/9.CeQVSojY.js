import{s as me,b as fe,o as ve,r as he,e as D}from"../chunks/DrcihTyg.js";import{S as _e,i as ge,m as oe,t as ue,a as ie,n as ce,p as pe,q as de,d as k,u as e,v as N,b as re,c as a,r as J,e as c,f as M,o as O,h as T,j as p,l as E}from"../chunks/wD6G4jnR.js";import{L as we}from"../chunks/Bpl_OkKT.js";import{T as ye}from"../chunks/DQbhH6gq.js";import{w as qe}from"../chunks/CoPtCTWl.js";function Ce(n){let r,t,l,f="Sign Up",v,h,d,B="Email",A,u,P,_,C,b,z="Username",H,m,j,w,g,I,se="Password",Y,y,F,Z,L,$,ae="Confirm Password",x,q,G,ee,S,le="Sign Up",K,V,U,te,ne;return V=new ye({props:{message:n[8].message,type:n[8].type}}),{c(){r=p("div"),t=p("div"),l=p("h2"),l.textContent=f,v=E(),h=p("div"),d=p("label"),d.textContent=B,A=E(),u=p("input"),_=E(),C=p("div"),b=p("label"),b.textContent=z,H=E(),m=p("input"),w=E(),g=p("div"),I=p("label"),I.textContent=se,Y=E(),y=p("input"),Z=E(),L=p("div"),$=p("label"),$.textContent=ae,x=E(),q=p("input"),ee=E(),S=p("button"),S.textContent=le,K=E(),de(V.$$.fragment),this.h()},l(s){r=c(s,"DIV",{class:!0});var o=M(r);t=c(o,"DIV",{class:!0});var i=M(t);l=c(i,"H2",{class:!0,"data-svelte-h":!0}),O(l)!=="svelte-1xeorxw"&&(l.textContent=f),v=T(i),h=c(i,"DIV",{class:!0});var Q=M(h);d=c(Q,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),O(d)!=="svelte-1p9d3fm"&&(d.textContent=B),A=T(Q),u=c(Q,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),Q.forEach(k),_=T(i),C=c(i,"DIV",{class:!0});var R=M(C);b=c(R,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),O(b)!=="svelte-1wr0xay"&&(b.textContent=z),H=T(R),m=c(R,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),R.forEach(k),w=T(i),g=c(i,"DIV",{class:!0});var W=M(g);I=c(W,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),O(I)!=="svelte-pepa0a"&&(I.textContent=se),Y=T(W),y=c(W,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),W.forEach(k),Z=T(i),L=c(i,"DIV",{class:!0});var X=M(L);$=c(X,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),O($)!=="svelte-ckuh5e"&&($.textContent=ae),x=T(X),q=c(X,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),X.forEach(k),ee=T(i),S=c(i,"BUTTON",{class:!0,"data-svelte-h":!0}),O(S)!=="svelte-67c7j0"&&(S.textContent=le),i.forEach(k),o.forEach(k),K=T(s),pe(V.$$.fragment,s),this.h()},h(){e(l,"class","svelte-1q6w57c"),e(d,"for","email"),e(d,"class","svelte-1q6w57c"),e(u,"type","email"),e(u,"id","email"),e(u,"class",P=D(n[4]?"":"invalid")+" svelte-1q6w57c"),e(u,"placeholder","Enter your email"),e(h,"class","input-group svelte-1q6w57c"),e(b,"for","username"),e(b,"class","svelte-1q6w57c"),e(m,"type","text"),e(m,"id","username"),e(m,"class",j=D(n[6]?"":"invalid")+" svelte-1q6w57c"),e(m,"placeholder","Enter your username"),e(C,"class","input-group svelte-1q6w57c"),e(I,"for","password"),e(I,"class","svelte-1q6w57c"),e(y,"type","password"),e(y,"id","password"),e(y,"class",F=D(n[5]?"":"invalid")+" svelte-1q6w57c"),e(y,"placeholder","Enter your password"),e(g,"class","input-group svelte-1q6w57c"),e($,"for","confirmPassword"),e($,"class","svelte-1q6w57c"),e(q,"type","password"),e(q,"id","confirmPassword"),e(q,"class",G=D(n[7]?"":"invalid")+" svelte-1q6w57c"),e(q,"placeholder","Confirm your password"),e(L,"class","input-group svelte-1q6w57c"),e(S,"class","svelte-1q6w57c"),e(t,"class","signup-box svelte-1q6w57c"),e(r,"class","signup-container svelte-1q6w57c")},m(s,o){re(s,r,o),a(r,t),a(t,l),a(t,v),a(t,h),a(h,d),a(h,A),a(h,u),N(u,n[0]),a(t,_),a(t,C),a(C,b),a(C,H),a(C,m),N(m,n[3]),a(t,w),a(t,g),a(g,I),a(g,Y),a(g,y),N(y,n[1]),a(t,Z),a(t,L),a(L,$),a(L,x),a(L,q),N(q,n[2]),a(t,ee),a(t,S),re(s,K,o),ce(V,s,o),U=!0,te||(ne=[J(u,"input",n[11]),J(m,"input",n[12]),J(y,"input",n[13]),J(q,"input",n[14]),J(S,"click",n[10])],te=!0)},p(s,o){(!U||o&16&&P!==(P=D(s[4]?"":"invalid")+" svelte-1q6w57c"))&&e(u,"class",P),o&1&&u.value!==s[0]&&N(u,s[0]),(!U||o&64&&j!==(j=D(s[6]?"":"invalid")+" svelte-1q6w57c"))&&e(m,"class",j),o&8&&m.value!==s[3]&&N(m,s[3]),(!U||o&32&&F!==(F=D(s[5]?"":"invalid")+" svelte-1q6w57c"))&&e(y,"class",F),o&2&&y.value!==s[1]&&N(y,s[1]),(!U||o&128&&G!==(G=D(s[7]?"":"invalid")+" svelte-1q6w57c"))&&e(q,"class",G),o&4&&q.value!==s[2]&&N(q,s[2]);const i={};o&256&&(i.message=s[8].message),o&256&&(i.type=s[8].type),V.$set(i)},i(s){U||(ie(V.$$.fragment,s),U=!0)},o(s){ue(V.$$.fragment,s),U=!1},d(s){s&&(k(r),k(K)),oe(V,s),te=!1,he(ne)}}}function be(n){let r,t;return r=new we({props:{showThemeToggle:!0,$$slots:{default:[Ce]},$$scope:{ctx:n}}}),{c(){de(r.$$.fragment)},l(l){pe(r.$$.fragment,l)},m(l,f){ce(r,l,f),t=!0},p(l,[f]){const v={};f&66047&&(v.$$scope={dirty:f,ctx:l}),r.$set(v)},i(l){t||(ie(r.$$.fragment,l),t=!0)},o(l){ue(r.$$.fragment,l),t=!1},d(l){oe(r,l)}}}function Te(n,r,t){let l,f="",v="",h="",d="",B=!0,A=!0,u=!0,P=!0;const _=qe({message:"",type:""});fe(n,_,w=>t(8,l=w)),ve(()=>{const w=localStorage.getItem("theme"),g=w==="dark"||!w;document.body.classList.toggle("dark-mode",g)});const C=()=>{t(4,B=!!f),t(5,A=!!v),t(6,u=!!d),t(7,P=v===h)},b=async()=>{if(C(),!B||!A||!u||!P){_.set({message:"Please fill in all fields correctly.",type:"error"}),setTimeout(()=>_.set({message:"",type:""}),1650);return}_.set({message:"Signing up...",type:"success"});try{const w=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:f,password:v,username:d})}),g=await w.json();w.ok?_.set({message:g.message,type:"success"}):_.set({message:g.message,type:"error"})}catch{_.set({message:"An error occurred. Please try again.",type:"error"})}setTimeout(()=>_.set({message:"",type:""}),1650)};function z(){f=this.value,t(0,f)}function H(){d=this.value,t(3,d)}function m(){v=this.value,t(1,v)}function j(){h=this.value,t(2,h)}return[f,v,h,d,B,A,u,P,l,_,b,z,H,m,j]}class Se extends _e{constructor(r){super(),ge(this,r,Te,be,me,{})}}export{Se as component};
